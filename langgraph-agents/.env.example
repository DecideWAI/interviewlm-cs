# LangGraph Agents Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# Authentication (Production)
# =============================================================================

# API key for authenticating requests from Next.js server
# Generate with: openssl rand -hex 32
# Leave empty for development (disables auth)
LANGGRAPH_API_KEY=

# Allowed CORS origins (comma-separated)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3003

# =============================================================================
# Required: API Keys
# =============================================================================

# Anthropic API key for Claude models
ANTHROPIC_API_KEY=sk-ant-api03-...

# =============================================================================
# Model Configuration
# =============================================================================

# Model for the Coding Agent (helps candidates)
CODING_AGENT_MODEL=claude-sonnet-4-20250514

# Model for the Evaluation Agent (scores sessions)
EVALUATION_AGENT_MODEL=claude-sonnet-4-20250514

# Model for the Interview Agent (tracks metrics - lighter model OK)
INTERVIEW_AGENT_MODEL=claude-3-5-haiku-20241022

# =============================================================================
# Modal Service URLs (Required for file/code operations)
# =============================================================================

# Modal executor endpoint for command execution
MODAL_EXECUTE_URL=https://your-modal-app.modal.run/execute

# Modal file operations
MODAL_WRITE_FILE_URL=https://your-modal-app.modal.run/write-file
MODAL_READ_FILE_URL=https://your-modal-app.modal.run/read-file
MODAL_LIST_FILES_URL=https://your-modal-app.modal.run/list-files

# Modal command execution (bash)
MODAL_EXECUTE_COMMAND_URL=https://your-modal-app.modal.run/execute-command

# =============================================================================
# Agent Configuration
# =============================================================================

# Maximum iterations for agentic loops (prevents infinite loops)
MAX_AGENT_ITERATIONS=25

# Tool execution timeout in seconds
TOOL_TIMEOUT_SECONDS=30

# Bash command timeout in seconds (longer for builds/tests)
BASH_TIMEOUT_SECONDS=60

# Maximum output size before truncation (characters)
MAX_OUTPUT_SIZE=5000

# Default helpfulness level: consultant, pair-programming, full-copilot
DEFAULT_HELPFULNESS_LEVEL=pair-programming

# =============================================================================
# Feature Flags
# =============================================================================

# Enable real-time code streaming to frontend
ENABLE_CODE_STREAMING=true

# Enable prompt caching for cost savings
ENABLE_PROMPT_CACHING=true

# Enable observability
ENABLE_OBSERVABILITY=false

# =============================================================================
# Infrastructure
# =============================================================================

# Redis URL for state persistence and caching
REDIS_URL=redis://localhost:6379

# Database URL for PostgreSQL (uses same DB as Next.js app)
DATABASE_URL=postgresql://user:password@localhost:5432/interviewlm

# =============================================================================
# LangSmith Observability (Primary)
# =============================================================================

# Enable LangSmith tracing
LANGCHAIN_TRACING_V2=false

# LangSmith API key (get from smith.langchain.com)
LANGCHAIN_API_KEY=lsv2_pt_...

# LangSmith project name
LANGCHAIN_PROJECT=interviewlm-agents

# LangSmith endpoint (default: api.smith.langchain.com)
LANGCHAIN_ENDPOINT=https://api.smith.langchain.com

# =============================================================================
# Langfuse Observability (Optional - Future Migration)
# =============================================================================

# Langfuse for tracing and analytics
LANGFUSE_PUBLIC_KEY=pk-lf-...
LANGFUSE_SECRET_KEY=sk-lf-...
LANGFUSE_HOST=https://cloud.langfuse.com
